CustomCheckbox.jsx

[Code Below]

import React, { useState, useEffect } from 'react';
import PropTypes from 'prop-types';

const CustomCheckbox = ({ checked, isClickable, onToggle }) => {
  const [isChecked, setIsChecked] = useState(checked);

  useEffect(() => {
    if (!isClickable) {
      setIsChecked(checked);
    }
  }, [checked, isClickable]);

  const handleClick = () => {
    if (isClickable) {
      setIsChecked(!isChecked);
      onToggle && onToggle(!isChecked); // Call the onToggle callback with the new state
    }
  };

  return (
    <div className="flex items-center" onClick={handleClick}>
      <input
        type="checkbox"
        checked={isChecked}
        onChange={handleClick}
        className="w-5 h-5 opacity-0 cursor-pointer m-0 absolute"
        readOnly={!isClickable}
      />
      <label className={`${checked ? 'border-primary' : 'border-secondary'} block relative flex justify-center items-center w-5 h-5 border-2 border-solid rounded`}>
        {isChecked && <div className={`${checked ? 'bg-primary' : 'bg-secondary'} w-3 h-3 rounded-sm`} />}
      </label>
    </div>
  );
};

CustomCheckbox.propTypes = {
  checked: PropTypes.bool.isRequired,
  isClickable: PropTypes.bool,
  onToggle: PropTypes.func,
};

export default CustomCheckbox;


===

DailyQuestCard.jsx

[Code Below]

import React from 'react';
import PropTypes from 'prop-types';
import QuestCard from './QuestCard';
import DailyStepsComponent from './DailyStepsComponent';
import TextInfoComponent from './TextInfoComponent';

const InfoBoxContainer = ({ children }) => (
  <div className="flex flex-col self-center w-full h-auto p-4 gap-4 rounded bg-black text-white">
    {children}
  </div>
);

const DailyQuestCard = ({ title, image, buttonText, description, dailyStepsData, onClaim }) => {
  const { dailyReward, claimedToday, currentDay } = dailyStepsData;

  return (
    <QuestCard
      title={title}
      image={image}
      buttonText={buttonText}
      disabledButtonText="Claim again tomorrow"
      badgeText="Daily"
      disabled={claimedToday}
      onButtonClick={onClaim}
    >
      <InfoBoxContainer>
        <DailyStepsComponent
          steps={dailyReward}
          claimedToday={claimedToday}
          currentDay={currentDay}
        />
        <TextInfoComponent text={description} />
      </InfoBoxContainer>
    </QuestCard>
  );
};

DailyQuestCard.propTypes = {
  title: PropTypes.string.isRequired,
  image: PropTypes.string.isRequired,
  buttonText: PropTypes.string.isRequired,
  description: PropTypes.string.isRequired,
  dailyStepsData: PropTypes.shape({
    dailyReward: PropTypes.arrayOf(
      PropTypes.shape({
        day: PropTypes.number.isRequired,
        xp: PropTypes.number.isRequired,
      })
    ).isRequired,
    claimedToday: PropTypes.bool.isRequired,
    currentDay: PropTypes.number.isRequired,
  }).isRequired,
  onClaim: PropTypes.func.isRequired,
};

export default DailyQuestCard;


===

DailyQuestCards.stories.jsx

[Code Below]

import React, { useState, useEffect } from 'react';
import DailyQuestCard from './DailyQuestCard';

export default {
  title: 'QuestCards/DailyQuestCard',
  component: DailyQuestCard,
  argTypes: {
    title: { control: 'text' },
    image: { control: 'text' },
    buttonText: { control: 'text' },
    description: { control: 'text' },
    currentDay: { control: 'number' },
    claimedToday: { control: 'boolean' },
    dailyStepsData: { table: { disable: true } }, // Hide dailyStepsData
    onClaim: { table: { disable: true } }, // Hide onClaim
  },
};

const Template = (args) => {
  const defaultDailyStepsData = {
    dailyReward: [
      { day: 1, xp: 1 },
      { day: 2, xp: 2 },
      { day: 3, xp: 3 },
      { day: 4, xp: 4 },
      { day: 5, xp: 5 },
      { day: 6, xp: 6 },
      { day: 7, xp: 10 },
    ],
  };

  const [claimedToday, setClaimedToday] = useState(args.claimedToday);
  const [currentDay, setCurrentDay] = useState(args.currentDay);

  useEffect(() => {
    setClaimedToday(args.claimedToday);
    setCurrentDay(args.currentDay);
  }, [args.claimedToday, args.currentDay]);

  const handleClaim = () => {
    if (!claimedToday) {
      setClaimedToday(true);
    }
  };

  return (
    <DailyQuestCard
      {...args}
      dailyStepsData={{
        ...defaultDailyStepsData,
        claimedToday,
        currentDay,
      }}
      onClaim={handleClaim}
    />
  );
};

export const Default = Template.bind({});
Default.args = {
  title: 'Daily Streak 1',
  image: '/assets/questCardBanner3.svg',
  buttonText: 'Claim 25 QVR',
  description: 'Instant credit, no conditions',
  currentDay: 1,
  claimedToday: false,
};


===

DailyStepsComponent.jsx

[Code Below]

import React from 'react';
import PropTypes from 'prop-types';

const DailyStepsComponent = ({ steps, currentDay, claimedToday }) => (
  <div className="flex justify-between bg-transparent p-0">
    {steps.map((step, index) => {
      const isPast = index + 1 < currentDay;
      const isTodayAndClaimed = claimedToday && index + 1 === currentDay;
      const stepClass = isPast || isTodayAndClaimed ? 'claimed' : '';
      return (
        <div key={index} className={`flex flex-col align-center font-normal text-xs text-center gap-1 ${stepClass}`}>
          <div className="bg-transparent font-normal text-sm text-center">
            +{step.xp}
          </div>
          <div className={`w-full h-1 rounded ${isPast || isTodayAndClaimed ? 'bg-primary' : 'bg-secondary'} text-white`}></div>
          <div className="text-white">Day {step.day}</div>
        </div>
      );
    })}
  </div>
);

DailyStepsComponent.propTypes = {
  steps: PropTypes.arrayOf(
    PropTypes.shape({
      day: PropTypes.number.isRequired,
      xp: PropTypes.number.isRequired,
    })
  ).isRequired,
  claimedToday: PropTypes.bool.isRequired,
  currentDay: PropTypes.number.isRequired,
};

export default DailyStepsComponent;


===

DualInfoComponent.jsx

[Code Below]

import React from 'react';
import PropTypes from 'prop-types';

const DualInfoComponent = ({ title1, description1, title2, description2 }) => (
  <div className="flex flex-col xs:flex-row justify-between space-y-1 xs:space-y-0">
    <div className="w-44 h-10">
      <h2 className="w-full h-4 font-normal text-xs text-gray m-0">{title1}</h2>
      <p className="font-medium text-sm m-0">{description1}</p>
    </div>
    <div className="w-44 h-10">
      <h2 className="w-full h-4 font-normal text-xs text-gray m-0">{title2}</h2>
      <p className="font-medium text-sm m-0 text-primary">{description2}</p>
    </div>
  </div>
);

DualInfoComponent.propTypes = {
  title1: PropTypes.string.isRequired,
  description1: PropTypes.string.isRequired,
  title2: PropTypes.string.isRequired,
  description2: PropTypes.string.isRequired,
};

export default DualInfoComponent;


===

LifetimeQuestCard.jsx

[Code Below]

import React, { useState } from 'react';
import PropTypes from 'prop-types';
import QuestCard from './QuestCard';
import DualInfoComponent from './DualInfoComponent';
import TextInfoComponent from './TextInfoComponent';

const InfoBoxContainer = ({ children }) => (
  <div className="flex flex-col self-center w-full h-auto p-4 gap-4 rounded bg-black text-white">
    {children}
  </div>
);

const LifetimeQuestCard = ({ title, image, buttonText, dualInfoData, description, onClaim }) => {
  const [claimed, setClaimed] = useState(false);
  const [firstInfoData, secondInfoData] = dualInfoData;

  const handleClaim = () => {
    if (!claimed) {
      setClaimed(true);
      onClaim && onClaim();
    }
  };

  return (
    <QuestCard
      title={title}
      image={image}
      buttonText={claimed ? 'Claimed' : buttonText}
      disabledButtonText="Claimed"
      disabled={claimed}
      onButtonClick={handleClaim}
    >
      <InfoBoxContainer>
        <DualInfoComponent
          title1={firstInfoData.title}
          description1={firstInfoData.description}
          title2={secondInfoData.title}
          description2={secondInfoData.description}
        />
        <TextInfoComponent text={description} />
      </InfoBoxContainer>
    </QuestCard>
  );
};

LifetimeQuestCard.propTypes = {
  title: PropTypes.string.isRequired,
  image: PropTypes.string.isRequired,
  buttonText: PropTypes.string.isRequired,
  description: PropTypes.string.isRequired,
  dualInfoData: PropTypes.arrayOf(
    PropTypes.shape({
      title: PropTypes.string.isRequired,
      description: PropTypes.string.isRequired,
    })
  ).isRequired,
  onClaim: PropTypes.func,
};

export default LifetimeQuestCard;


===

LifetimeQuestCards.stories.jsx

[Code Below]

import React, { useState, useEffect } from 'react';
import LifetimeQuestCard from './LifetimeQuestCard';

export default {
  title: 'QuestCards/LifetimeQuestCard',
  component: LifetimeQuestCard,
  argTypes: {
    title: { control: 'text' },
    image: { control: 'text' },
    buttonText: { control: 'text' },
    description: { control: 'text' },
    dualInfoData: { table: { disable: true } }, // Hide dualInfoData
    onClaim: { table: { disable: true } }, // Hide onClaim
  },
};

const Template = (args) => {
  const defaultDualInfoData = [
    { title: 'Lifetime Net Deposit', description: '$12,345.67' },
    { title: 'Lifetime Net Deposit', description: '$12,345.68' },
  ];

  const [claimed, setClaimed] = useState(false);

  useEffect(() => {
    setClaimed(false); // Reset claimed state when args change
  }, [args]);

  const handleClaim = () => {
    if (!claimed) {
      setClaimed(true);
    }
  };

  return (
    <LifetimeQuestCard
      {...args}
      dualInfoData={defaultDualInfoData}
      buttonText={claimed ? 'Claimed' : args.buttonText}
      onClaim={handleClaim}
    />
  );
};

export const Default = Template.bind({});
Default.args = {
  title: 'Lifetime net deposit increase',
  image: '/assets/questCardBanner.png',
  buttonText: 'Claim 1235 XP',
  description: 'Claim XP for each $ of net deposit made.',
};


===

QuestCard.jsx

[Code Below]

import React from 'react';
import PropTypes from 'prop-types';

const QuestCard = ({ title, image, buttonText, disabledButtonText, badgeText, children, disabled, onButtonClick }) => {
  return (
    <div className="flex flex-col max-w-[424px] w-full h-auto p-4 gap-4 bg-tertiary rounded border-2 border-solid border-black">
      <div className="flex w-full">
        <h1 className="h-full text-left font-medium text-xl text-white">{title}</h1>
        {badgeText && (
          <div className="flex h-fit self-center rounded border-2 border-solid border-primary py-[1px] px-1">
            <div className="flex mr-[2px] ml-[2px]">
              <img src="/assets/reload.svg" style={{ margin: 'auto', width: 10, height: 10 }} alt="Badge" />
            </div>
            <div className="flex font-normal text-2.5 text-primary">
              <div style={{ margin: 'auto' }}>{badgeText}</div>
            </div>
          </div>
        )}
      </div>
      <img className="flex-none grow-0 w-full h-25 rounded self-stretch" src={image} alt="QuestCardBanner" />
      {children}
      {buttonText && (
        <button
          className="flex flex-row justify-center items-center w-fit h-10 py-[10px] px-4 bg-primary text-secondary border-none rounded text-base text-sm font-medium cursor-pointer disabled:bg-248566"
          onClick={onButtonClick}
          disabled={disabled}
        >
          {disabled ? disabledButtonText : buttonText}
        </button>
      )}
    </div>
  );
};

QuestCard.propTypes = {
  title: PropTypes.string.isRequired,
  image: PropTypes.string.isRequired,
  buttonText: PropTypes.string.isRequired,
  disabledButtonText: PropTypes.string,
  badgeText: PropTypes.string,
  children: PropTypes.node.isRequired,
  disabled: PropTypes.bool,
  onButtonClick: PropTypes.func.isRequired,
};

export default QuestCard;


===

TextInfoComponent.jsx

[Code Below]

import React from 'react';
import PropTypes from 'prop-types';

const TextInfoComponent = ({ text }) => (
  <div className="w-full h-auto font-normal text-sm text-gray">
    <p className="m-0">{text}</p>
  </div>
);

TextInfoComponent.propTypes = {
  text: PropTypes.string.isRequired,
};

export default TextInfoComponent;


===

TierProgressComponent.jsx

[Code Below]

import React from 'react';
import PropTypes from 'prop-types';
import CustomCheckbox from './CustomCheckbox';

const TierProgressComponent = ({ tierProgress }) => {
  const { milestones, progress } = tierProgress;

  const progressBoxWidth = `calc(100% / ${milestones.length})`;

  const calculateBarWidth = () => {
    if (progress === 0) return '0%';
    if (progress === 1) return '0px';

    const fullWidth = `calc(${progressBoxWidth} * (${progress} - 1))`;

    return fullWidth;
  };

  return (
    <div className="flex relative items-center">
      <div className="inline-block absolute h-1 bg-primary z-10 top-7" style={{ width: calculateBarWidth(), left: `calc(${progressBoxWidth} / 2)` }}></div>
      {milestones.map((milestone, index) => {
        const [firstPart, secondPart] = milestone.profit.split(' ');

        return (
          <div className={`flex relative flex-col justify-center items-center z-20 ${progress > index ? 'reached' : ''}`} style={{ width: progressBoxWidth }} key={milestone.id}>
            <div className="font-medium text-sm text-center">{milestone.percentage}</div>
            <CustomCheckbox checked={progress > index} isClickable={false} />
            <div className="flex flex-col">
              <div className="font-normal text-xs text-center text-gray">{firstPart}</div>
              {secondPart && <div className="font-normal text-xs text-center text-gray">{secondPart}</div>}
            </div>
          </div>
        );
      })}
    </div>
  );
};

TierProgressComponent.propTypes = {
  tierProgress: PropTypes.shape({
    milestones: PropTypes.arrayOf(
      PropTypes.shape({
        id: PropTypes.number.isRequired,
        percentage: PropTypes.string.isRequired,
        profit: PropTypes.string.isRequired,
      })
    ).isRequired,
    progress: PropTypes.number.isRequired,
  }).isRequired,
};

export default TierProgressComponent;


===

TierProgressQuestCard.jsx

[Code Below]

import React from 'react';
import QuestCard from './QuestCard';
import DualInfoComponent from './DualInfoComponent';
import TextInfoComponent from './TextInfoComponent';
import TierProgressComponent from './TierProgressComponent';

const InfoBoxContainer = ({ children }) => (
  <div className="flex flex-col self-center w-full h-auto p-4 gap-4 rounded bg-black text-white">
    {children}
  </div>
);

const TierProgressQuestCard = ({ title, image, tierData, dualInfoData, description, badgeText='' }) => {
  const [firstInfoData, secondInfoData] = dualInfoData;

  return (
    <QuestCard title={title} image={image} badgeText={badgeText}>
      <InfoBoxContainer>
        <TierProgressComponent tierProgress={tierData} />
        <DualInfoComponent
          title1={firstInfoData.title}
          description1={firstInfoData.description}
          title2={secondInfoData.title}
          description2={secondInfoData.description}
        />
        <TextInfoComponent text={description} />
      </InfoBoxContainer>
    </QuestCard>
  );
};

export default TierProgressQuestCard;


===

TierProgressQuestCards.stories.jsx

[Code Below]

import React from 'react';
import TierProgressQuestCard from './TierProgressQuestCard';

export default {
  title: 'QuestCards/TierProgressQuestCard',
  component: TierProgressQuestCard,
  argTypes: {
    title: { control: 'text' },
    image: { control: 'text' },
    description: { control: 'text' },
    badgeText: { control: 'text' },
    progress: { control: 'number' },
  },
};

const Template = (args) => {
  const defaultMilestones = [
    { id: 1, percentage: 'x120%', profit: '$10 profit' },
    { id: 2, percentage: 'x150%', profit: '$100 profit' },
    { id: 3, percentage: 'x200%', profit: '$1000 profit' },
    { id: 4, percentage: 'x200%', profit: '$1000 profit' },
    { id: 5, percentage: 'x200%', profit: '$1000 profit' },
    { id: 6, percentage: 'x200%', profit: '$1000 profit' },
  ];

  const defaultDualInfoData = [
    { title: 'Lifetime Net Deposit', description: '$12,345.67' },
    { title: 'Lifetime Net Deposit', description: '$12,345.68' },
  ];

  const { progress, ...rest } = args;

  const tierData = {
    progress: progress,
    milestones: defaultMilestones,
  };

  return <TierProgressQuestCard {...rest} tierData={tierData} dualInfoData={defaultDualInfoData} />;
};

export const Default = Template.bind({});
Default.args = {
  title: 'Deposit funds',
  image: '/assets/questCardBanner3.svg',
  description: 'Deposit at least $1 weekly to claim XP. Quest is reset and claimable retrospectively every Monday at 00:00 UTC. Rewards do not stack.',
  badgeText: 'Weekly',
  progress: 3,
};


===

